@using MMB_ASPNET.Models
@model Player

<h2>Update @Model.Name</h2>

@using (Html.BeginForm("UpdatePlayerToDatabase", "Player", "Post"))
{
    <input asp-for="Id" type="hidden" value="@Model.Id" />

    <label asp-for="Name" class="control-label">Name</label>

    <input type="text" id="input" name="Name" class="form-control" value="@Model.Name" onchange="this.value = this.value.trim()"/>

    <input asp-for="Mmr" type="hidden" value="@Model.Mmr" />

    <input asp-for="Wins" type="hidden" value="@Model.Wins" />

    <input asp-for="Losses" type="hidden" value="@Model.Losses" />

    <br>

    <input type="submit" id="button" value="Update Player" class="btn btn-primary" disabled/>
}

<script>
    let input = document.getElementById("input");
    let btn = document.getElementById("button");

    input.addEventListener("input", function(){
        let flag = true;
        let check = ["!","#","$","%","^","&","*","(",")","+","=","-",",",".","<","'","\"",">","?","/","\\","|","{","}",":",";","  "]
        for(i=0; i<check.length; i++){
            if (this.value.includes(check[i])){
                flag = false;
                break;
            }
        }
        btn.disabled = (this.value === '' || flag === false || this.value.length > 15);
    })
 </script>